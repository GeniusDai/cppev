link_libraries("cppev")

find_package(GTest)
link_libraries("gtest")

add_executable(test_async_logger test_async_logger.cc )
add_executable(test_thread_pool test_thread_pool.cc)
add_executable(test_buffer test_buffer.cc)
add_executable(test_nio_socket test_nio_socket.cc)
add_executable(test_nio test_nio.cc)
add_executable(test_lock test_lock.cc)
add_executable(test_common_utils test_common_utils.cc)
add_executable(test_subprocess test_subprocess.cc)
add_executable(test_lru_cache test_lru_cache.cc)
add_executable(test_ipc test_ipc.cc)

enable_testing()
add_test(NAME test_thread_pool COMMAND test_thread_pool)
add_test(NAME test_async_logger COMMAND test_async_logger)
add_test(NAME test_buffer COMMAND test_buffer)
add_test(NAME test_nio_socket COMMAND test_nio_socket)
add_test(NAME test_nio COMMAND test_nio)
add_test(NAME test_lock COMMAND test_lock)
add_test(NAME test_common_utils COMMAND test_common_utils)
add_test(NAME test_subprocess COMMAND test_subprocess)
add_test(NAME test_lru_cache COMMAND test_lru_cache)
add_test(NAME test_ipc COMMAND test_ipc)
